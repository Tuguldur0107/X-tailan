üìÑ Messenger Bot Flow (–•—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω —Ö–∞—Ä–∏–ª—Ü–∞—Ö —É—Ä—Å–≥–∞–ª)
/start ‚Üí –ú—ç–Ω–¥—á–∏–ª–≥—ç—ç
‚Äì –•—ç—Ä—ç–≥–ª—ç–≥—á–∏–¥ X-SENDER-–∏–π–Ω —Ç–∞–Ω–∏–ª—Ü—É—É–ª–≥–∞, –±–æ–ª–æ–º–∂, ‚Äú—Ç–∞–π–ª–∞–Ω –∏–ª–≥—ç—ç—Ö “Ø–π–ª—á–∏–ª–≥—ç—ç–≥ —Ç—É—Ä—à–∏—Ö‚Äù —Ç–æ–≤—á –∏–ª–≥—ç—ç–≥–¥—ç–Ω—ç.

/login ‚Üí Etax –Ω—ç–≤—Ç—Ä—ç—Ö –º—ç–¥—ç—ç–ª—ç–ª –æ—Ä—É—É–ª–∞—Ö
‚Äì –•—ç—Ä—ç–≥–ª—ç–≥—á etax –Ω—ç—Ä, –Ω—É—É—Ü “Ø–≥—ç—ç –æ—Ä—É—É–ª–Ω–∞
‚Äì Backend API –Ω—å token –∞–≤—á —Ö–∞–¥–≥–∞–ª–Ω–∞ (AES encryption + expires)

/companies ‚Üí –ö–æ–º–ø–∞–Ω–∏–π–Ω –∂–∞–≥—Å–∞–∞–ª—Ç –∞–≤–∞—Ö
‚Äì eTax API-–≥–∞–∞—Ä —Ö–æ–ª–±–æ–≥–¥–æ–∂ —Ç—É—Ö–∞–π–Ω —Ö—ç—Ä—ç–≥–ª—ç–≥—á—Ç—ç–π —Ö–æ–ª–±–æ–≥–¥—Å–æ–Ω –±“Ø—Ö –ê–ê–ù-–∏–π–≥ —Ö–∞—Ä—É—É–ª–Ω–∞

/reports ‚Üí –¢–∞–π–ª–∞–Ω–≥–∏–π–Ω –∂–∞–≥—Å–∞–∞–ª—Ç –∞–≤–∞—Ö
‚Äì –°–æ–Ω–≥–æ—Å–æ–Ω –∫–æ–º–ø–∞–Ω–∏–¥ —Ö—ç–¥—ç–Ω —Ç–∞–π–ª–∞–Ω –∏–ª–≥—ç—ç—Ö —à–∞–∞—Ä–¥–ª–∞–≥–∞—Ç–∞–π–≥ eTax API-–≥–∞–∞—Ä –∞–≤—á –∏—Ä–Ω—ç
‚Äì (e.g., 2025-07 —Å–∞—Ä—ã–Ω –• —Ç–∞–π–ª–∞–Ω, –ù”®–ê–¢ —Ç–∞–π–ª–∞–Ω –≥.–º.)

/submit_x ‚Üí X —Ç–∞–π–ª–∞–Ω –∏–ª–≥—ç—ç—Ö
‚Äì –•—ç—Ä—ç–≥–ª—ç–≥—á ‚Äú–ò–ª–≥—ç—ç—Ö‚Äù —Ç–æ–≤—á –¥–∞—Ä–Ω–∞
‚Äì Backend –Ω—å submitX() API-–≥ –¥—É—É–¥–∞–∂ isZeroReport: true –ø–∞—Ä–∞–º–µ—Ç—Ä—Ç—ç–π–≥—ç—ç—Ä —Ç–∞–π–ª–∞–Ω –∏–ª–≥—ç—ç–Ω—ç
‚Äì –ê–º–∂–∏–ª—Ç—Ç–∞–π/–∞–ª–¥–∞–∞—Ç–∞–π —Ö–∞—Ä–∏—É —Ö–∞—Ä—É—É–ª–Ω–∞

/status ‚Üí –¢–∞–π–ª–∞–Ω –∏–ª–≥—ç—ç–≥–¥—Å—ç–Ω —ç—Å—ç—Ö —à–∞–ª–≥–∞—Ö
‚Äì –•—ç—Ä—ç–≥–ª—ç–≥—á —Ö“Ø—Å—ç–ª—Ç –∏–ª–≥—ç—ç—Ö—ç–¥ —Ç–∞–π–ª–∞–Ω–≥–∏–π–Ω —Å—Ç–∞—Ç—É—Å—ã–≥ —à–∞–ª–≥–∞–∂ ”©–≥–Ω”© (API-—Å)

/qpay ‚Üí –¶—ç–Ω—ç–≥–ª—ç–ª—Ç —Ö–∏–π—Ö
‚Äì 3 —Ç–∞–π–ª–∞–Ω –¥–∞–≤—Å–∞–Ω —Ö—ç—Ä—ç–≥–ª—ç–≥—á–¥—ç–¥ QPay —Ö–æ–ª–±–æ–æ—Å –∏–ª–≥—ç—ç–≥–¥—ç–Ω—ç
‚Äì QPay webhook-–æ–æ—Ä –∞–º–∂–∏–ª—Ç—Ç–∞–π —Ç”©–ª–±”©—Ä —Ö“Ø–ª—ç—ç–Ω –∞–≤–∞—Ö “Ø–µ–¥ —Ç–∞–π–ª–∞–Ω –∏–ª–≥—ç—ç—Ö —ç—Ä—Ö –Ω—ç—ç–≥–¥—ç–Ω—ç

üìÑ UX Flow (–í—ç–± / –ê–¥–º–∏–Ω —Ö—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω —É—Ä—Å–≥–∞–ª)
A. –ù“Ø“Ø—Ä —Ö—É—É–¥–∞—Å (landing page)

–°–∏—Å—Ç–µ–º–∏–π–Ω —Ç–∞–Ω–∏–ª—Ü—É—É–ª–≥–∞

Facebook chatbot —Ä—É—É –æ—Ä–æ—Ö —Ç–æ–≤—á

QPay-—Ä —Ü—ç–Ω—ç–≥–ª—ç—Ö —Ç–æ–≤—á

B. Admin Panel (internal)

Login (admin user only)

Dashboard

–ò–ª–≥—ç—ç—Å—ç–Ω —Ç–∞–π–ª–∞–Ω–≥–∏–π–Ω —Ç–æ–æ / –∞–º–∂–∏–ª—Ç—Ç–∞–π / –∞–ª–¥–∞–∞

–°“Ø“Ø–ª–∏–π–Ω 24 —Ü–∞–≥–∏–π–Ω –ª–æ–≥

–•—ç—Ä—ç–≥–ª—ç–≥—á –±“Ø—Ä–∏–π–Ω —Ç–∞–π–ª–∞–Ω–≥–∏–π–Ω —Ç“Ø“Ø—Ö —Ö–∞—Ä–∞—Ö

–¢–∞–π–ª–∞–Ω –∏–ª–≥—ç—ç—Ö –≥–∞—Ä–∞–∞—Ä trigger —Ö–∏–π—Ö (—Ö–æ–≤–æ—Ä —Ç–æ—Ö–∏–æ–ª–¥–æ–ª–¥)

üìÑ System Internal Flow (–ù—É—É—Ü–ª–∞–ª—Ç–∞–π “Ø–π–ª —è–≤—Ü)
Etax Login

POST /auth/token ‚Üí auth.itc.gov.mn ‚Üí access_token –∞–≤–Ω–∞

Token —Ö–∞–¥–≥–∞–ª–∞–≥–¥–∞—Ö–≥“Ø–π, –∑”©–≤—Ö”©–Ω –∫—ç—à–ª—ç–≥–¥—ç–Ω—ç / —ç—Å–≤—ç–ª encrypted DB —Ö–∞–¥–≥–∞–ª–Ω–∞

Company list –∞–≤–∞—Ö

GET /companies?user_id=... ‚Üí eTax API /getUserOrgs

Report list –∞–≤–∞—Ö

GET /reports?ent_id=... ‚Üí —Ç–∞–π–ª–∞–Ω–≥–∏–π–Ω –∂–∞–≥—Å–∞–∞–ª—Ç –±—É—Ü–∞–∞–Ω–∞

Submit X

POST /submitX ‚Üí body: { ent_id, formNo, period, isZeroReport: true }

QPay

POST /qpay/invoice ‚Üí —Ö—ç—Ä—ç–≥–ª—ç–≥—á–∏–¥ QR –∫–æ–¥

Webhook /qpay/callback ‚Üí —Ç”©–ª–±”©—Ä–∏–π–Ω —Å—Ç–∞—Ç—É—Å ‚Üí —Ö—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω —ç—Ä—Ö –Ω—ç—ç–≥–¥—ç–Ω—ç

